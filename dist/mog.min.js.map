{
  "version": 3,
  "sources": ["../resources/js/mog.js"],
  "sourcesContent": ["window.addEventListener('alpine:init', () => {\n    Alpine.store('toasts', {\n        toasts: [],\n        counter: 0,\n\n        add(type = 'default', title, description = null, duration = 4000, action = null) {\n            const toast = {\n                id: ++this.counter,\n                type,\n                title,\n                description,\n                duration,\n                action,\n                createdAt: Date.now(),\n                dismissed: false,\n            }\n\n            this.toasts.unshift(toast)\n\n            if (duration > 0) {\n                setTimeout(() => {\n                    this.dismiss(toast.id)\n                }, duration)\n            }\n\n            return toast.id\n        },\n\n        dismiss(id) {\n            const index = this.toasts.findIndex((toast) => toast.id === id)\n            if (index > -1) {\n                this.toasts[index].dismissed = true\n                setTimeout(() => {\n                    this.toasts.splice(index, 1)\n                }, 150) // Allow animation to complete\n            }\n        },\n\n        dismissAll() {\n            this.toasts.forEach((toast) => (toast.dismissed = true))\n            setTimeout(() => {\n                this.toasts = []\n            }, 150)\n        },\n\n        success(title, description = null, duration = 4000) {\n            return this.add('success', title, description, duration)\n        },\n\n        error(title, description = null, duration = 6000) {\n            return this.add('error', title, description, duration)\n        },\n\n        warning(title, description = null, duration = 5000) {\n            return this.add('warning', title, description, duration)\n        },\n\n        info(title, description = null, duration = 4000) {\n            return this.add('info', title, description, duration)\n        },\n\n        loading(title, description = null) {\n            return this.add('loading', title, description, 0) // 0 = persistent\n        },\n\n        promise(promise, options = {}) {\n            const loadingId = this.loading(options.loading?.title || 'Loading...', options.loading?.description)\n\n            promise\n                .then((result) => {\n                    this.dismiss(loadingId)\n                    if (options.success) {\n                        this.success(\n                            typeof options.success === 'function' ? options.success(result) : options.success.title || options.success,\n                            typeof options.success === 'object' ? options.success.description : null,\n                        )\n                    }\n                    return result\n                })\n                .catch((error) => {\n                    this.dismiss(loadingId)\n                    if (options.error) {\n                        this.error(\n                            typeof options.error === 'function' ? options.error(error) : options.error.title || options.error,\n                            typeof options.error === 'object' ? options.error.description : null,\n                        )\n                    }\n                    throw error\n                })\n\n            return promise\n        },\n    })\n\n    window.Mog = {\n        get theme() {\n            return window.localStorage.getItem('mog::paint') || 'system'\n        },\n\n        get coat() {\n            return this.theme\n        },\n\n        paint(theme) {\n            let applyDark = () => document.documentElement.classList.add('dark')\n            let applyLight = () => document.documentElement.classList.remove('dark')\n            let setTheme = (theme) => window.localStorage.setItem('mog::paint', theme)\n\n            if (theme === 'system') {\n                let scheme = window.matchMedia('(prefers-color-scheme: dark)')\n                window.localStorage.removeItem('mog::paint')\n                scheme.matches ? applyDark() : applyLight()\n            } else if (theme === 'dark') {\n                setTheme('dark')\n                applyDark()\n            } else if (theme === 'light') {\n                setTheme('light')\n                applyLight()\n            }\n        },\n\n        dialogs: Alpine.reactive([]),\n        toasts: Alpine.reactive([]),\n\n        dialog: {\n            open: (id) => {\n                if (!window.Mog.dialogs.includes(id)) window.Mog.dialogs.push(id)\n\n                document.dispatchEvent(new CustomEvent('mog::dialog-open', { detail: { id } }))\n                document.dispatchEvent(new CustomEvent('mog::overlay-open', { detail: { dialog: id } }))\n            },\n\n            close: (id) => {\n                if (window.Mog.dialogs.includes(id)) {\n                    window.Mog.dialogs = window.Mog.dialogs.filter((d) => d !== id)\n                }\n\n                document.dispatchEvent(new CustomEvent('mog::dialog-close', { detail: { id } }))\n                document.dispatchEvent(new CustomEvent('mog::overlay-close', { detail: { dialog: id } }))\n            },\n\n            closeAll: () => {\n                let toClose = window.Mog.dialogs\n\n                toClose.forEach((m) => window.Mog.dialog.close(m))\n            },\n\n            empty: () => window.Mog.dialogs.length === 0,\n        },\n\n        toast: {\n            /**\n             *\n             * types:\n             *        'default' => no icon, just text\n             *        'success' => has a success icon (tick)\n             *        'info' => has an info icon (i)\n             *        'warning' => has a warning icon (triangle with ! in the middle)\n             *        'error' => has a error icon (octagon with x in the middle)\n             *        'promise' => shows loading state with spinning loading icon until resolved/rejected, then shows success/error icon accordingly\n             *\n             * action: idk what this will look like yet, but its a button that should perform an action once clicked\n             * duration: time in ms before auto dismiss, 0 = persistent\n             * dismissable: boolean, whether the toast can be dismissed by the user. if yes, show a close button at the top right of the toast\n             */\n            create: ({ type, title, description, action, duration, dismissable }) => {\n                window.Mog.toasts.push({ type, title, description, action, duration, dismissable })\n\n                document.dispatchEvent(new CustomEvent('mog::toast-create', { detail: { type, title, description, action, duration, dismissable } }))\n            },\n        },\n    }\n\n    Alpine.magic('mog', () => window.Mog)\n})\n"],
  "mappings": "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",
  "names": ["type", "title", "description", "duration", "action", "toast", "id", "index", "promise", "options", "loadingId", "result", "error", "theme", "applyDark", "applyLight", "setTheme", "scheme", "d", "m", "dismissable"]
}
