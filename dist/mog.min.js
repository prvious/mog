(()=>{window.addEventListener("alpine:init",()=>{window.Mog={get scheme(){let t=this.theme;return t==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t},get theme(){return window.localStorage.getItem("mog::paint")||"system"},get coat(){return this.theme},paint(t){let e=()=>document.documentElement.classList.add("dark"),s=()=>document.documentElement.classList.remove("dark"),n=i=>window.localStorage.setItem("mog::paint",i);if(t==="system"){let i=window.matchMedia("(prefers-color-scheme: dark)");window.localStorage.removeItem("mog::paint"),i.matches?e():s()}else t==="dark"?(n("dark"),e()):t==="light"&&(n("light"),s())},dialogs:Alpine.reactive([]),toastSubscribers:[],dismissedToasts:Alpine.reactive(new Set),getActiveToasts:()=>Alpine.store("mog").toasts.filter(t=>!window.Mog.dismissedToasts.has(t.id)),toastsCounter:0,dialog:{open:t=>{window.Mog.dialogs.includes(t)||window.Mog.dialogs.push(t),document.dispatchEvent(new CustomEvent("mog::dialog-open",{detail:{id:t}})),document.dispatchEvent(new CustomEvent("mog::overlay-open",{detail:{dialog:t}}))},close:t=>{window.Mog.dialogs.includes(t)&&(window.Mog.dialogs=window.Mog.dialogs.filter(e=>e!==t)),document.dispatchEvent(new CustomEvent("mog::dialog-close",{detail:{id:t}})),document.dispatchEvent(new CustomEvent("mog::overlay-close",{detail:{dialog:t}}))},closeAll:()=>{window.Mog.dialogs.forEach(e=>window.Mog.dialog.close(e))},empty:()=>window.Mog.dialogs.length===0},toast:{create:(t,e={})=>{let s="",n="default",i="bottom-right",r="",l=!0,c,g,w;typeof e.description<"u"&&(s=e.description),typeof e.type<"u"&&(n=e.type),typeof e.position<"u"&&(i=e.position),typeof e.html<"u"&&(r=e.html),typeof e.closeButton<"u"&&(l=e.closeButton),typeof e.cancel<"u"&&(c=e.cancel),typeof e.action<"u"&&(g=e.action),typeof e.duration<"u"&&(w=e.duration);let u=e.dismissible===void 0?!0:e.dismissible,o=typeof e.id=="number"||e.id&&e.id?.length>0?e.id:window.Mog.toastsCounter++,m={id:o,type:n,title:t,description:s,position:i,html:r,dismissible:u,closeButton:l,cancel:c,action:g,duration:w},a=Alpine.store("mog").toasts.find(d=>d.id===o);if(window.Mog.dismissedToasts.has(o)&&window.Mog.dismissedToasts.delete(o),a){let d=Alpine.store("mog").toasts.findIndex(f=>f.id===o);d!==-1&&(window.Mog.toast.publish({...a,...e,id:o,title:t}),Alpine.store("mog").toasts[d]={...a,...e,id:o,title:t})}else window.Mog.toast.publish(m),Alpine.store("mog").toasts.unshift(m);return o},message:(t,e)=>window.Mog.toast.create(t,e),error:(t,e)=>window.Mog.toast.create(t,{type:"error",...e}),success:(t,e)=>window.Mog.toast.create(t,{type:"success",...e}),info:(t,e)=>window.Mog.toast.create(t,{type:"info",...e}),warning:(t,e)=>window.Mog.toast.create(t,{type:"warning",...e}),loading:(t,e)=>window.Mog.toast.create(t,{type:"loading",...e}),dismiss:t=>(t?(window.Mog.dismissedToasts.add(t),requestAnimationFrame(()=>window.Mog.toastSubscribers.forEach(e=>e({id:t,dismiss:!0})))):Alpine.store("mog").toasts.forEach(e=>{window.Mog.toastSubscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),t),dismissAll:()=>{Alpine.store("mog").toasts.forEach(t=>window.Mog.toast.dismiss(t.id))},subscribe:t=>(window.Mog.toastSubscribers.push(t),()=>{let e=window.Mog.toastSubscribers.indexOf(t);window.Mog.toastSubscribers.splice(e,1)}),publish:t=>{window.Mog.toastSubscribers.forEach(e=>e(t))}}},Alpine.magic("mog",()=>window.Mog),Alpine.store("mog",{toasts:[]})});})();
//# sourceMappingURL=mog.min.js.map
