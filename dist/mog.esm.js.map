{
  "version": 3,
  "sources": ["../resources/js/mog.js"],
  "sourcesContent": ["window.addEventListener('alpine:init', () => {\n    Alpine.store('toasts', {\n        toasts: [],\n        counter: 0,\n\n        add(type = 'default', title, description = null, duration = 4000, action = null) {\n            const toast = {\n                id: ++this.counter,\n                type,\n                title,\n                description,\n                duration,\n                action,\n                createdAt: Date.now(),\n                dismissed: false,\n            }\n\n            this.toasts.unshift(toast)\n\n            if (duration > 0) {\n                setTimeout(() => {\n                    this.dismiss(toast.id)\n                }, duration)\n            }\n\n            return toast.id\n        },\n\n        dismiss(id) {\n            const index = this.toasts.findIndex((toast) => toast.id === id)\n            if (index > -1) {\n                this.toasts[index].dismissed = true\n                setTimeout(() => {\n                    this.toasts.splice(index, 1)\n                }, 150) // Allow animation to complete\n            }\n        },\n\n        dismissAll() {\n            this.toasts.forEach((toast) => (toast.dismissed = true))\n            setTimeout(() => {\n                this.toasts = []\n            }, 150)\n        },\n\n        success(title, description = null, duration = 4000) {\n            return this.add('success', title, description, duration)\n        },\n\n        error(title, description = null, duration = 6000) {\n            return this.add('error', title, description, duration)\n        },\n\n        warning(title, description = null, duration = 5000) {\n            return this.add('warning', title, description, duration)\n        },\n\n        info(title, description = null, duration = 4000) {\n            return this.add('info', title, description, duration)\n        },\n\n        loading(title, description = null) {\n            return this.add('loading', title, description, 0) // 0 = persistent\n        },\n\n        promise(promise, options = {}) {\n            const loadingId = this.loading(options.loading?.title || 'Loading...', options.loading?.description)\n\n            promise\n                .then((result) => {\n                    this.dismiss(loadingId)\n                    if (options.success) {\n                        this.success(\n                            typeof options.success === 'function' ? options.success(result) : options.success.title || options.success,\n                            typeof options.success === 'object' ? options.success.description : null,\n                        )\n                    }\n                    return result\n                })\n                .catch((error) => {\n                    this.dismiss(loadingId)\n                    if (options.error) {\n                        this.error(\n                            typeof options.error === 'function' ? options.error(error) : options.error.title || options.error,\n                            typeof options.error === 'object' ? options.error.description : null,\n                        )\n                    }\n                    throw error\n                })\n\n            return promise\n        },\n    })\n\n    window.Mog = {\n        get theme() {\n            return window.localStorage.getItem('mog::paint') || 'system'\n        },\n\n        get coat() {\n            return this.theme\n        },\n\n        paint(theme) {\n            let applyDark = () => document.documentElement.classList.add('dark')\n            let applyLight = () => document.documentElement.classList.remove('dark')\n            let setTheme = (theme) => window.localStorage.setItem('mog::paint', theme)\n\n            if (theme === 'system') {\n                let scheme = window.matchMedia('(prefers-color-scheme: dark)')\n                window.localStorage.removeItem('mog::paint')\n                scheme.matches ? applyDark() : applyLight()\n            } else if (theme === 'dark') {\n                setTheme('dark')\n                applyDark()\n            } else if (theme === 'light') {\n                setTheme('light')\n                applyLight()\n            }\n        },\n\n        dialogs: Alpine.reactive([]),\n        toasts: Alpine.reactive([]),\n\n        dialog: {\n            open: (id) => {\n                if (!window.Mog.dialogs.includes(id)) window.Mog.dialogs.push(id)\n\n                document.dispatchEvent(new CustomEvent('mog::dialog-open', { detail: { id } }))\n                document.dispatchEvent(new CustomEvent('mog::overlay-open', { detail: { dialog: id } }))\n            },\n\n            close: (id) => {\n                if (window.Mog.dialogs.includes(id)) {\n                    window.Mog.dialogs = window.Mog.dialogs.filter((d) => d !== id)\n                }\n\n                document.dispatchEvent(new CustomEvent('mog::dialog-close', { detail: { id } }))\n                document.dispatchEvent(new CustomEvent('mog::overlay-close', { detail: { dialog: id } }))\n            },\n\n            closeAll: () => {\n                let toClose = window.Mog.dialogs\n\n                toClose.forEach((m) => window.Mog.dialog.close(m))\n            },\n\n            empty: () => window.Mog.dialogs.length === 0,\n        },\n\n        toast: {\n            /**\n             *\n             * types:\n             *        'default' => no icon, just text\n             *        'success' => has a success icon (tick)\n             *        'info' => has an info icon (i)\n             *        'warning' => has a warning icon (triangle with ! in the middle)\n             *        'error' => has a error icon (octagon with x in the middle)\n             *        'promise' => shows loading state with spinning loading icon until resolved/rejected, then shows success/error icon accordingly\n             *\n             * action: idk what this will look like yet, but its a button that should perform an action once clicked\n             * duration: time in ms before auto dismiss, 0 = persistent\n             * dismissable: boolean, whether the toast can be dismissed by the user. if yes, show a close button at the top right of the toast\n             */\n            create: ({ type, title, description, action, duration, dismissable }) => {\n                window.Mog.toasts.push({ type, title, description, action, duration, dismissable })\n\n                document.dispatchEvent(new CustomEvent('mog::toast-create', { detail: { type, title, description, action, duration, dismissable } }))\n            },\n        },\n    }\n\n    Alpine.magic('mog', () => window.Mog)\n})\n"],
  "mappings": ";AAAA,OAAO,iBAAiB,eAAe,MAAM;AACzC,SAAO,MAAM,UAAU;AAAA,IACnB,QAAQ,CAAC;AAAA,IACT,SAAS;AAAA,IAET,IAAI,OAAO,WAAW,OAAO,cAAc,MAAM,WAAW,KAAM,SAAS,MAAM;AAC7E,YAAM,QAAQ;AAAA,QACV,IAAI,EAAE,KAAK;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,WAAW,KAAK,IAAI;AAAA,QACpB,WAAW;AAAA,MACf;AAEA,WAAK,OAAO,QAAQ,KAAK;AAEzB,UAAI,WAAW,GAAG;AACd,mBAAW,MAAM;AACb,eAAK,QAAQ,MAAM,EAAE;AAAA,QACzB,GAAG,QAAQ;AAAA,MACf;AAEA,aAAO,MAAM;AAAA,IACjB;AAAA,IAEA,QAAQ,IAAI;AACR,YAAM,QAAQ,KAAK,OAAO,UAAU,CAAC,UAAU,MAAM,OAAO,EAAE;AAC9D,UAAI,QAAQ,IAAI;AACZ,aAAK,OAAO,KAAK,EAAE,YAAY;AAC/B,mBAAW,MAAM;AACb,eAAK,OAAO,OAAO,OAAO,CAAC;AAAA,QAC/B,GAAG,GAAG;AAAA,MACV;AAAA,IACJ;AAAA,IAEA,aAAa;AACT,WAAK,OAAO,QAAQ,CAAC,UAAW,MAAM,YAAY,IAAK;AACvD,iBAAW,MAAM;AACb,aAAK,SAAS,CAAC;AAAA,MACnB,GAAG,GAAG;AAAA,IACV;AAAA,IAEA,QAAQ,OAAO,cAAc,MAAM,WAAW,KAAM;AAChD,aAAO,KAAK,IAAI,WAAW,OAAO,aAAa,QAAQ;AAAA,IAC3D;AAAA,IAEA,MAAM,OAAO,cAAc,MAAM,WAAW,KAAM;AAC9C,aAAO,KAAK,IAAI,SAAS,OAAO,aAAa,QAAQ;AAAA,IACzD;AAAA,IAEA,QAAQ,OAAO,cAAc,MAAM,WAAW,KAAM;AAChD,aAAO,KAAK,IAAI,WAAW,OAAO,aAAa,QAAQ;AAAA,IAC3D;AAAA,IAEA,KAAK,OAAO,cAAc,MAAM,WAAW,KAAM;AAC7C,aAAO,KAAK,IAAI,QAAQ,OAAO,aAAa,QAAQ;AAAA,IACxD;AAAA,IAEA,QAAQ,OAAO,cAAc,MAAM;AAC/B,aAAO,KAAK,IAAI,WAAW,OAAO,aAAa,CAAC;AAAA,IACpD;AAAA,IAEA,QAAQ,SAAS,UAAU,CAAC,GAAG;AAC3B,YAAM,YAAY,KAAK,QAAQ,QAAQ,SAAS,SAAS,cAAc,QAAQ,SAAS,WAAW;AAEnG,cACK,KAAK,CAAC,WAAW;AACd,aAAK,QAAQ,SAAS;AACtB,YAAI,QAAQ,SAAS;AACjB,eAAK;AAAA,YACD,OAAO,QAAQ,YAAY,aAAa,QAAQ,QAAQ,MAAM,IAAI,QAAQ,QAAQ,SAAS,QAAQ;AAAA,YACnG,OAAO,QAAQ,YAAY,WAAW,QAAQ,QAAQ,cAAc;AAAA,UACxE;AAAA,QACJ;AACA,eAAO;AAAA,MACX,CAAC,EACA,MAAM,CAAC,UAAU;AACd,aAAK,QAAQ,SAAS;AACtB,YAAI,QAAQ,OAAO;AACf,eAAK;AAAA,YACD,OAAO,QAAQ,UAAU,aAAa,QAAQ,MAAM,KAAK,IAAI,QAAQ,MAAM,SAAS,QAAQ;AAAA,YAC5F,OAAO,QAAQ,UAAU,WAAW,QAAQ,MAAM,cAAc;AAAA,UACpE;AAAA,QACJ;AACA,cAAM;AAAA,MACV,CAAC;AAEL,aAAO;AAAA,IACX;AAAA,EACJ,CAAC;AAED,SAAO,MAAM;AAAA,IACT,IAAI,QAAQ;AACR,aAAO,OAAO,aAAa,QAAQ,YAAY,KAAK;AAAA,IACxD;AAAA,IAEA,IAAI,OAAO;AACP,aAAO,KAAK;AAAA,IAChB;AAAA,IAEA,MAAM,OAAO;AACT,UAAI,YAAY,MAAM,SAAS,gBAAgB,UAAU,IAAI,MAAM;AACnE,UAAI,aAAa,MAAM,SAAS,gBAAgB,UAAU,OAAO,MAAM;AACvE,UAAI,WAAW,CAACA,WAAU,OAAO,aAAa,QAAQ,cAAcA,MAAK;AAEzE,UAAI,UAAU,UAAU;AACpB,YAAI,SAAS,OAAO,WAAW,8BAA8B;AAC7D,eAAO,aAAa,WAAW,YAAY;AAC3C,eAAO,UAAU,UAAU,IAAI,WAAW;AAAA,MAC9C,WAAW,UAAU,QAAQ;AACzB,iBAAS,MAAM;AACf,kBAAU;AAAA,MACd,WAAW,UAAU,SAAS;AAC1B,iBAAS,OAAO;AAChB,mBAAW;AAAA,MACf;AAAA,IACJ;AAAA,IAEA,SAAS,OAAO,SAAS,CAAC,CAAC;AAAA,IAC3B,QAAQ,OAAO,SAAS,CAAC,CAAC;AAAA,IAE1B,QAAQ;AAAA,MACJ,MAAM,CAAC,OAAO;AACV,YAAI,CAAC,OAAO,IAAI,QAAQ,SAAS,EAAE,EAAG,QAAO,IAAI,QAAQ,KAAK,EAAE;AAEhE,iBAAS,cAAc,IAAI,YAAY,oBAAoB,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC;AAC9E,iBAAS,cAAc,IAAI,YAAY,qBAAqB,EAAE,QAAQ,EAAE,QAAQ,GAAG,EAAE,CAAC,CAAC;AAAA,MAC3F;AAAA,MAEA,OAAO,CAAC,OAAO;AACX,YAAI,OAAO,IAAI,QAAQ,SAAS,EAAE,GAAG;AACjC,iBAAO,IAAI,UAAU,OAAO,IAAI,QAAQ,OAAO,CAAC,MAAM,MAAM,EAAE;AAAA,QAClE;AAEA,iBAAS,cAAc,IAAI,YAAY,qBAAqB,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC;AAC/E,iBAAS,cAAc,IAAI,YAAY,sBAAsB,EAAE,QAAQ,EAAE,QAAQ,GAAG,EAAE,CAAC,CAAC;AAAA,MAC5F;AAAA,MAEA,UAAU,MAAM;AACZ,YAAI,UAAU,OAAO,IAAI;AAEzB,gBAAQ,QAAQ,CAAC,MAAM,OAAO,IAAI,OAAO,MAAM,CAAC,CAAC;AAAA,MACrD;AAAA,MAEA,OAAO,MAAM,OAAO,IAAI,QAAQ,WAAW;AAAA,IAC/C;AAAA,IAEA,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAeH,QAAQ,CAAC,EAAE,MAAM,OAAO,aAAa,QAAQ,UAAU,YAAY,MAAM;AACrE,eAAO,IAAI,OAAO,KAAK,EAAE,MAAM,OAAO,aAAa,QAAQ,UAAU,YAAY,CAAC;AAElF,iBAAS,cAAc,IAAI,YAAY,qBAAqB,EAAE,QAAQ,EAAE,MAAM,OAAO,aAAa,QAAQ,UAAU,YAAY,EAAE,CAAC,CAAC;AAAA,MACxI;AAAA,IACJ;AAAA,EACJ;AAEA,SAAO,MAAM,OAAO,MAAM,OAAO,GAAG;AACxC,CAAC;",
  "names": ["theme"]
}
