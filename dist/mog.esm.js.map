{
  "version": 3,
  "sources": ["../resources/js/mog.js"],
  "sourcesContent": ["window.addEventListener('alpine:init', () => {\n    window.Mog = {\n        get scheme() {\n            let theme = this.theme\n\n            if (theme === 'system') {\n                let scheme = window.matchMedia('(prefers-color-scheme: dark)')\n                return scheme.matches ? 'dark' : 'light'\n            }\n\n            return theme\n        },\n\n        get theme() {\n            return window.localStorage.getItem('mog::paint') || 'system'\n        },\n\n        get coat() {\n            return this.theme\n        },\n\n        paint(theme) {\n            let applyDark = () => document.documentElement.classList.add('dark')\n            let applyLight = () => document.documentElement.classList.remove('dark')\n            let setTheme = (theme) => window.localStorage.setItem('mog::paint', theme)\n\n            if (theme === 'system') {\n                let scheme = window.matchMedia('(prefers-color-scheme: dark)')\n                window.localStorage.removeItem('mog::paint')\n                scheme.matches ? applyDark() : applyLight()\n            } else if (theme === 'dark') {\n                setTheme('dark')\n                applyDark()\n            } else if (theme === 'light') {\n                setTheme('light')\n                applyLight()\n            }\n        },\n\n        dialogs: Alpine.reactive([]),\n        toastSubscribers: [],\n\n        dismissedToasts: Alpine.reactive(new Set()),\n        getActiveToasts: () => {\n            return Alpine.store('mog').toasts.filter((toast) => !window.Mog.dismissedToasts.has(toast.id))\n        },\n\n        toastsCounter: 0,\n\n        dialog: {\n            open: (id) => {\n                if (!window.Mog.dialogs.includes(id)) window.Mog.dialogs.push(id)\n\n                document.dispatchEvent(new CustomEvent('mog::dialog-open', { detail: { id } }))\n                document.dispatchEvent(new CustomEvent('mog::overlay-open', { detail: { dialog: id } }))\n            },\n\n            close: (id) => {\n                if (window.Mog.dialogs.includes(id)) {\n                    window.Mog.dialogs = window.Mog.dialogs.filter((d) => d !== id)\n                }\n\n                document.dispatchEvent(new CustomEvent('mog::dialog-close', { detail: { id } }))\n                document.dispatchEvent(new CustomEvent('mog::overlay-close', { detail: { dialog: id } }))\n            },\n\n            closeAll: () => {\n                let toClose = window.Mog.dialogs\n\n                toClose.forEach((m) => window.Mog.dialog.close(m))\n            },\n\n            empty: () => window.Mog.dialogs.length === 0,\n        },\n\n        toast: {\n            /**\n             *\n             * types:\n             *        'default' => no icon, just text\n             *        'success' => has a success icon (tick)\n             *        'info' => has an info icon (i)\n             *        'warning' => has a warning icon (triangle with ! in the middle)\n             *        'error' => has a error icon (octagon with x in the middle)\n             *        'promise' => shows loading state with spinning loading icon until resolved/rejected, then shows success/error icon accordingly\n             *\n             * action: idk what this will look like yet, but its a button that should perform an action once clicked\n             * duration: time in ms before auto dismiss, 0 = persistent\n             * dismissable: boolean, whether the toast can be dismissed by the user. if yes, show a close button at the top right of the toast\n             */\n\n            create: (title, options = {}) => {\n                let description = ''\n                let type = 'default'\n                let position = 'bottom-right'\n                let html = ''\n                let closeButton = true\n                let cancel = undefined\n                let action = undefined\n                let duration = undefined\n\n                if (typeof options.description != 'undefined') description = options.description\n                if (typeof options.type != 'undefined') type = options.type\n                if (typeof options.position != 'undefined') position = options.position\n                if (typeof options.html != 'undefined') html = options.html\n                if (typeof options.closeButton != 'undefined') closeButton = options.closeButton\n                if (typeof options.cancel != 'undefined') cancel = options.cancel\n                if (typeof options.action != 'undefined') action = options.action\n                if (typeof options.duration != 'undefined') duration = options.duration\n\n                const dismissible = options.dismissible === undefined ? true : options.dismissible\n\n                const id = typeof options.id === 'number' || (options.id && options.id?.length > 0) ? options.id : window.Mog.toastsCounter++\n\n                const toast = { id, type, title, description, position, html, dismissible, closeButton, cancel, action, duration }\n\n                const alreadyExists = Alpine.store('mog').toasts.find((toast) => {\n                    return toast.id === id\n                })\n\n                if (window.Mog.dismissedToasts.has(id)) {\n                    window.Mog.dismissedToasts.delete(id)\n                }\n\n                if (alreadyExists) {\n                    const index = Alpine.store('mog').toasts.findIndex((toast) => toast.id === id)\n                    if (index !== -1) {\n                        window.Mog.toast.publish({ ...alreadyExists, ...options, id, title })\n                        Alpine.store('mog').toasts[index] = {\n                            ...alreadyExists,\n                            ...options,\n                            id,\n                            title,\n                        }\n                    }\n                } else {\n                    window.Mog.toast.publish(toast)\n                    Alpine.store('mog').toasts.unshift(toast)\n                }\n\n                return id\n            },\n\n            message: (title, data) => {\n                return window.Mog.toast.create(title, data)\n            },\n\n            error: (title, data) => {\n                return window.Mog.toast.create(title, { type: 'error', ...data })\n            },\n\n            success: (title, data) => {\n                return window.Mog.toast.create(title, { type: 'success', ...data })\n            },\n\n            info: (title, data) => {\n                return window.Mog.toast.create(title, { type: 'info', ...data })\n            },\n\n            warning: (title, data) => {\n                return window.Mog.toast.create(title, { type: 'warning', ...data })\n            },\n\n            loading: (title, data) => {\n                return window.Mog.toast.create(title, { type: 'loading', ...data })\n            },\n\n            dismiss: (id) => {\n                if (id) {\n                    window.Mog.dismissedToasts.add(id)\n                    requestAnimationFrame(() => window.Mog.toastSubscribers.forEach((subscriber) => subscriber({ id, dismiss: true })))\n                } else {\n                    Alpine.store('mog').toasts.forEach((toast) => {\n                        window.Mog.toastSubscribers.forEach((subscriber) => subscriber({ id: toast.id, dismiss: true }))\n                    })\n                }\n\n                return id\n            },\n\n            dismissAll: () => {\n                Alpine.store('mog').toasts.forEach((toast) => window.Mog.toast.dismiss(toast.id))\n            },\n\n            subscribe: (callback) => {\n                window.Mog.toastSubscribers.push(callback)\n\n                return () => {\n                    const index = window.Mog.toastSubscribers.indexOf(callback)\n                    window.Mog.toastSubscribers.splice(index, 1)\n                }\n            },\n\n            publish: (toast) => {\n                window.Mog.toastSubscribers.forEach((subscriber) => subscriber(toast))\n            },\n        },\n    }\n\n    Alpine.magic('mog', () => window.Mog)\n\n    Alpine.store('mog', {\n        toasts: [],\n    })\n})\n"],
  "mappings": "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",
  "names": ["theme", "toast"]
}
